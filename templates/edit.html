{% extends "base.html" %}

{% block header %}
  Edit Recipe
{% endblock %}

{% block content %}
  {% if recipe %}
    <form class="form" method="POST">
      <input class="field" name="name" placeholder="Dish title" value="{{ recipe.name }}" required />

      <textarea class="field" name="description" rows="6" placeholder="Description">{{ recipe.description }}</textarea>      

      <input class="field" type="number" name="prep_time" placeholder="Preparation time (minutes)" value="{{ recipe.prep_time }}"/>
 
      <textarea class="field" name="ingredients" rows="6">{% for item in recipe.ingredients %}{{ item }}
{% if not loop.last %}{% endif %}{% endfor %}</textarea>

      <textarea class="field" name="instructions" placeholder="Instructions" rows="6">{% for step in recipe.instructions %}{{ step }}
{% if not loop.last %}{% endif %}{% endfor %}</textarea>
            
      <button type="submit" class="btn">Submit Edits</button>
      <a href="{{ url_for('home') }}" class="btn btn-secondary">Cancel</a>
    </form>
  {% else %}
    <div class="error-message">
      <p>Recipe not found.</p>
      <a href="{{ url_for('home') }}" class="btn">Back to Home</a>
    </div>
  {% endif %}
{% endblock %}
